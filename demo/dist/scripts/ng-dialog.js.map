{"version":3,"sources":["../bower_components/ng-dialog/js/ngDialog.js"],"names":["root","factory","module","exports","angular","require","define","amd","this","m","$el","element","isDef","isDefined","style","document","body","documentElement","animationEndSupport","animation","WebkitAnimation","MozAnimation","MsAnimation","OAnimation","animationEndEvent","forceElementsReload","html","scopes","openIdStack","activeBodyClasses","keydownIsBound","openOnePerName","closeByNavigationDialogStack","provider","defaults","className","appendClassName","disableAnimation","plain","showClose","closeByDocument","closeByEscape","closeByNavigation","appendTo","preCloseCallback","onOpenCallback","overlay","cache","trapFocus","preserveFocus","ariaAuto","ariaRole","ariaLabelledById","ariaLabelledBySelector","ariaDescribedById","ariaDescribedBySelector","bodyClassName","width","height","setForceHtmlReload","_useIt","setForceBodyReload","setDefaults","newDefaults","extend","setOpenOnePerName","isOpenOne","closeByDocumentHandler","globalID","dialogsCount","defers","$get","$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector","$elements","privateMethods","onDocumentKeydown","event","keyCode","publicMethods","close","activate","$dialog","data","on","onTrapFocusKeydown","deactivate","off","deactivateAll","els","forEach","el","setBodyPadding","originalBodyPadding","parseInt","css","$broadcast","resetBodyPadding","performCloseDialog","value","options","id","attr","scope","Hammer","hammerTime","destroy","unbind","hasClass","previousFocus","focus","$destroy","bind","closeDialogElement","addClass","resolve","remainingDialogs","splice","indexOf","length","undefined","remove","removeClass","closeDialog","isFunction","preCloseCallbackResult","call","isObject","closePromise","then","ev","currentTarget","getActiveDialog","isTab","backward","shiftKey","handleTab","focusableElements","getFocusableElements","activeElement","blur","currentFocus","focusIndex","Array","prototype","isFocusIndexUnknown","isFirstElementFocused","isLastElementFocused","cancelEvent","preventDefault","stopPropagation","autoFocus","dialogEl","autoFocusEl","querySelector","contentElements","filterVisibleElements","querySelectorAll","contentElement","rawElements","tabbableElements","filterTabbableElements","tabbableFocusableElements","i","push","visibleFocusableElements","offsetWidth","offsetHeight","dialogs","applyAriaAttributes","detectedRole","applyAriaAttribute","selector","dialogId","firstMatch","generatedId","detectUIRouter","has","getRouterLocationEventName","__PRIVATE__","open","opts","loadTemplateUrl","tmpl","config","headers","Accept","get","res","dialogID","name","toLowerCase","replace","isOpen","copy","localID","merge","defer","$new","$dialogParent","$dialogContent","key","isString","invoke","all","template","templateUrl","locals","setup","hasOverlayClass","ngDialogId","firstLetter","ngDialogData","fromJson","String","option","callback","$parent","closeThisDialog","controller","isArray","label","controllerAs","controllerInstance","$scope","$element","bindToController","instance","confirm","$activeDialogs","widthDiffs","innerWidth","prop","scrollBarWidth","append","dialog","isOverlay","target","isCloseBtn","promise","openConfirm","getElementById","openResult","reject","topDialogId","closeAll","$all","getOpenDialogs","getDefaults","elementName","find","eventName","$on","uiRouterVersion","onStart","trans","toCloseDialog","pop","$event","directive","ngDialog","restrict","ngDialogScope","link","elem","attrs","e","ngDialogClosePrevious","ngDialogClass","ngDialogAppendClass","ngDialogController","ngDialogControllerAs","ngDialogBindToController","ngDialogDisableAnimation","ngDialogShowClose","ngDialogCloseByDocument","ngDialogCloseByEscape","ngDialogOverlay","ngDialogPreCloseCallback","ngDialogOnOpenCallback","ngDialogBodyClass"],"mappings":"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","file":"ng-dialog.js","sourcesContent":["/*\n * ngDialog - easy modals and popup windows\n * http://github.com/likeastore/ngDialog\n * (c) 2013-2015 MIT License, https://likeastore.com\n */\n\n(function (root, factory) {\n    if (typeof module !== 'undefined' && module.exports) {\n        // CommonJS\n        if (typeof angular === 'undefined') {\n            factory(require('angular'));\n        } else {\n            factory(angular);\n        }\n        module.exports = 'ngDialog';\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(['angular'], factory);\n    } else {\n        // Global Variables\n        factory(root.angular);\n    }\n}(this, function (angular) {\n    'use strict';\n\n    var m = angular.module('ngDialog', []);\n\n    var $el = angular.element;\n    var isDef = angular.isDefined;\n    var style = (document.body || document.documentElement).style;\n    var animationEndSupport = isDef(style.animation) || isDef(style.WebkitAnimation) || isDef(style.MozAnimation) || isDef(style.MsAnimation) || isDef(style.OAnimation);\n    var animationEndEvent = 'animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend';\n    var focusableElementSelector = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]';\n    var disabledAnimationClass = 'ngdialog-disabled-animation';\n    var forceElementsReload = { html: false, body: false };\n    var scopes = {};\n    var openIdStack = [];\n    var activeBodyClasses = [];\n    var keydownIsBound = false;\n    var openOnePerName = false;\n    var closeByNavigationDialogStack = [];\n\n    var UI_ROUTER_VERSION_LEGACY = 'legacy';\n    var UI_ROUTER_VERSION_ONE_PLUS = '1.0.0+';\n\n    m.provider('ngDialog', function () {\n        var defaults = this.defaults = {\n            className: 'ngdialog-theme-default',\n            appendClassName: '',\n            disableAnimation: false,\n            plain: false,\n            showClose: true,\n            closeByDocument: true,\n            closeByEscape: true,\n            closeByNavigation: false,\n            appendTo: false,\n            preCloseCallback: false,\n            onOpenCallback: false,\n            overlay: true,\n            cache: true,\n            trapFocus: true,\n            preserveFocus: true,\n            ariaAuto: true,\n            ariaRole: null,\n            ariaLabelledById: null,\n            ariaLabelledBySelector: null,\n            ariaDescribedById: null,\n            ariaDescribedBySelector: null,\n            bodyClassName: 'ngdialog-open',\n            width: null,\n            height: null\n        };\n\n        this.setForceHtmlReload = function (_useIt) {\n            forceElementsReload.html = _useIt || false;\n        };\n\n        this.setForceBodyReload = function (_useIt) {\n            forceElementsReload.body = _useIt || false;\n        };\n\n        this.setDefaults = function (newDefaults) {\n            angular.extend(defaults, newDefaults);\n        };\n\n        this.setOpenOnePerName = function (isOpenOne) {\n            openOnePerName = isOpenOne || false;\n        };\n\n        var globalID = 0, dialogsCount = 0, closeByDocumentHandler, defers = {};\n\n        this.$get = ['$document', '$templateCache', '$compile', '$q', '$http', '$rootScope', '$timeout', '$window', '$controller', '$injector',\n            function ($document, $templateCache, $compile, $q, $http, $rootScope, $timeout, $window, $controller, $injector) {\n                var $elements = [];\n\n                var privateMethods = {\n                    onDocumentKeydown: function (event) {\n                        if (event.keyCode === 27) {\n                            publicMethods.close('$escape');\n                        }\n                    },\n\n                    activate: function($dialog) {\n                        var options = $dialog.data('$ngDialogOptions');\n\n                        if (options.trapFocus) {\n                            $dialog.on('keydown', privateMethods.onTrapFocusKeydown);\n\n                            // Catch rogue changes (eg. after unfocusing everything by clicking a non-focusable element)\n                            $elements.body.on('keydown', privateMethods.onTrapFocusKeydown);\n                        }\n                    },\n\n                    deactivate: function ($dialog) {\n                        $dialog.off('keydown', privateMethods.onTrapFocusKeydown);\n                        $elements.body.off('keydown', privateMethods.onTrapFocusKeydown);\n                    },\n\n                    deactivateAll: function (els) {\n                        angular.forEach(els,function(el) {\n                            var $dialog = angular.element(el);\n                            privateMethods.deactivate($dialog);\n                        });\n                    },\n\n                    setBodyPadding: function (width) {\n                        var originalBodyPadding = parseInt(($elements.body.css('padding-right') || 0), 10);\n                        $elements.body.css('padding-right', (originalBodyPadding + width) + 'px');\n                        $elements.body.data('ng-dialog-original-padding', originalBodyPadding);\n                        $rootScope.$broadcast('ngDialog.setPadding', width);\n                    },\n\n                    resetBodyPadding: function () {\n                        var originalBodyPadding = $elements.body.data('ng-dialog-original-padding');\n                        if (originalBodyPadding) {\n                            $elements.body.css('padding-right', originalBodyPadding + 'px');\n                        } else {\n                            $elements.body.css('padding-right', '');\n                        }\n                        $rootScope.$broadcast('ngDialog.setPadding', 0);\n                    },\n\n                    performCloseDialog: function ($dialog, value) {\n                        var options = $dialog.data('$ngDialogOptions');\n                        var id = $dialog.attr('id');\n                        var scope = scopes[id];\n                        privateMethods.deactivate($dialog);\n\n                        if (!scope) {\n                            // Already closed\n                            return;\n                        }\n\n                        if (typeof $window.Hammer !== 'undefined') {\n                            var hammerTime = scope.hammerTime;\n                            hammerTime.off('tap', closeByDocumentHandler);\n                            hammerTime.destroy && hammerTime.destroy();\n                            delete scope.hammerTime;\n                        } else {\n                            $dialog.unbind('click');\n                        }\n\n                        if (dialogsCount === 1) {\n                            $elements.body.unbind('keydown', privateMethods.onDocumentKeydown);\n                        }\n\n                        if (!$dialog.hasClass('ngdialog-closing')){\n                            dialogsCount -= 1;\n                        }\n\n                        var previousFocus = $dialog.data('$ngDialogPreviousFocus');\n                        if (previousFocus && previousFocus.focus) {\n                            previousFocus.focus();\n                        }\n\n                        $rootScope.$broadcast('ngDialog.closing', $dialog, value);\n                        dialogsCount = dialogsCount < 0 ? 0 : dialogsCount;\n                        if (animationEndSupport && !options.disableAnimation) {\n                            scope.$destroy();\n                            $dialog.unbind(animationEndEvent).bind(animationEndEvent, function () {\n                                privateMethods.closeDialogElement($dialog, value);\n                            }).addClass('ngdialog-closing');\n                        } else {\n                            scope.$destroy();\n                            privateMethods.closeDialogElement($dialog, value);\n                        }\n                        if (defers[id]) {\n                            defers[id].resolve({\n                                id: id,\n                                value: value,\n                                $dialog: $dialog,\n                                remainingDialogs: dialogsCount\n                            });\n                            delete defers[id];\n                        }\n                        if (scopes[id]) {\n                            delete scopes[id];\n                        }\n                        openIdStack.splice(openIdStack.indexOf(id), 1);\n                        if (!openIdStack.length) {\n                            $elements.body.unbind('keydown', privateMethods.onDocumentKeydown);\n                            keydownIsBound = false;\n                        }\n\n                        if (dialogsCount == 0)\n                        {\n                            closeByDocumentHandler = undefined;\n                        }\n                    },\n\n                    closeDialogElement: function($dialog, value) {\n                        var options = $dialog.data('$ngDialogOptions');\n                        $dialog.remove();\n\n                        activeBodyClasses.splice(activeBodyClasses.indexOf(options.bodyClassName), 1);\n                        if (activeBodyClasses.indexOf(options.bodyClassName) === -1) {\n                            $elements.html.removeClass(options.bodyClassName);\n                            $elements.body.removeClass(options.bodyClassName);\n                        }\n\n                        if (dialogsCount === 0) {\n                            privateMethods.resetBodyPadding();\n                        }\n\n                        $rootScope.$broadcast('ngDialog.closed', $dialog, value);\n                    },\n\n                    closeDialog: function ($dialog, value) {\n                        var preCloseCallback = $dialog.data('$ngDialogPreCloseCallback');\n\n                        if (preCloseCallback && angular.isFunction(preCloseCallback)) {\n\n                            var preCloseCallbackResult = preCloseCallback.call($dialog, value);\n\n                            if (angular.isObject(preCloseCallbackResult)) {\n                                if (preCloseCallbackResult.closePromise) {\n                                    preCloseCallbackResult.closePromise.then(function () {\n                                        privateMethods.performCloseDialog($dialog, value);\n                                    }, function () {\n                                        return false;\n                                    });\n                                } else {\n                                    preCloseCallbackResult.then(function () {\n                                        privateMethods.performCloseDialog($dialog, value);\n                                    }, function () {\n                                        return false;\n                                    });\n                                }\n                            } else if (preCloseCallbackResult !== false) {\n                                privateMethods.performCloseDialog($dialog, value);\n                            } else {\n                                return false;\n                            }\n                        } else {\n                            privateMethods.performCloseDialog($dialog, value);\n                        }\n                    },\n\n                    onTrapFocusKeydown: function(ev) {\n                        var el = angular.element(ev.currentTarget);\n                        var $dialog;\n\n                        if (el.hasClass('ngdialog')) {\n                            $dialog = el;\n                        } else {\n                            $dialog = privateMethods.getActiveDialog();\n\n                            if ($dialog === null) {\n                                return;\n                            }\n                        }\n\n                        var isTab = (ev.keyCode === 9);\n                        var backward = (ev.shiftKey === true);\n\n                        if (isTab) {\n                            privateMethods.handleTab($dialog, ev, backward);\n                        }\n                    },\n\n                    handleTab: function($dialog, ev, backward) {\n                        var focusableElements = privateMethods.getFocusableElements($dialog);\n\n                        if (focusableElements.length === 0) {\n                            if (document.activeElement && document.activeElement.blur) {\n                                document.activeElement.blur();\n                            }\n                            return;\n                        }\n\n                        var currentFocus = document.activeElement;\n                        var focusIndex = Array.prototype.indexOf.call(focusableElements, currentFocus);\n\n                        var isFocusIndexUnknown = (focusIndex === -1);\n                        var isFirstElementFocused = (focusIndex === 0);\n                        var isLastElementFocused = (focusIndex === focusableElements.length - 1);\n\n                        var cancelEvent = false;\n\n                        if (backward) {\n                            if (isFocusIndexUnknown || isFirstElementFocused) {\n                                focusableElements[focusableElements.length - 1].focus();\n                                cancelEvent = true;\n                            }\n                        } else {\n                            if (isFocusIndexUnknown || isLastElementFocused) {\n                                focusableElements[0].focus();\n                                cancelEvent = true;\n                            }\n                        }\n\n                        if (cancelEvent) {\n                            ev.preventDefault();\n                            ev.stopPropagation();\n                        }\n                    },\n\n                    autoFocus: function($dialog) {\n                        var dialogEl = $dialog[0];\n\n                        // Browser's (Chrome 40, Forefix 37, IE 11) don't appear to honor autofocus on the dialog, but we should\n                        var autoFocusEl = dialogEl.querySelector('*[autofocus]');\n                        if (autoFocusEl !== null) {\n                            autoFocusEl.focus();\n\n                            if (document.activeElement === autoFocusEl) {\n                                return;\n                            }\n\n                            // Autofocus element might was display: none, so let's continue\n                        }\n\n                        var focusableElements = privateMethods.getFocusableElements($dialog);\n\n                        if (focusableElements.length > 0) {\n                            focusableElements[0].focus();\n                            return;\n                        }\n\n                        // We need to focus something for the screen readers to notice the dialog\n                        var contentElements = privateMethods.filterVisibleElements(dialogEl.querySelectorAll('h1,h2,h3,h4,h5,h6,p,span'));\n\n                        if (contentElements.length > 0) {\n                            var contentElement = contentElements[0];\n                            $el(contentElement).attr('tabindex', '-1').css('outline', '0');\n                            contentElement.focus();\n                        }\n                    },\n\n                    getFocusableElements: function ($dialog) {\n                        var dialogEl = $dialog[0];\n\n                        var rawElements = dialogEl.querySelectorAll(focusableElementSelector);\n\n                        // Ignore untabbable elements, ie. those with tabindex = -1\n                        var tabbableElements = privateMethods.filterTabbableElements(rawElements);\n\n                        return privateMethods.filterVisibleElements(tabbableElements);\n                    },\n\n                    filterTabbableElements: function (els) {\n                        var tabbableFocusableElements = [];\n\n                        for (var i = 0; i < els.length; i++) {\n                            var el = els[i];\n\n                            if ($el(el).attr('tabindex') !== '-1') {\n                                tabbableFocusableElements.push(el);\n                            }\n                        }\n\n                        return tabbableFocusableElements;\n                    },\n\n                    filterVisibleElements: function (els) {\n                        var visibleFocusableElements = [];\n\n                        for (var i = 0; i < els.length; i++) {\n                            var el = els[i];\n\n                            if (el.offsetWidth > 0 || el.offsetHeight > 0) {\n                                visibleFocusableElements.push(el);\n                            }\n                        }\n\n                        return visibleFocusableElements;\n                    },\n\n                    getActiveDialog: function () {\n                        var dialogs = document.querySelectorAll('.ngdialog');\n\n                        if (dialogs.length === 0) {\n                            return null;\n                        }\n\n                        // TODO: This might be incorrect if there are a mix of open dialogs with different 'appendTo' values\n                        return $el(dialogs[dialogs.length - 1]);\n                    },\n\n                    applyAriaAttributes: function ($dialog, options) {\n                        if (options.ariaAuto) {\n                            if (!options.ariaRole) {\n                                var detectedRole = (privateMethods.getFocusableElements($dialog).length > 0) ?\n                                    'dialog' :\n                                    'alertdialog';\n\n                                options.ariaRole = detectedRole;\n                            }\n\n                            if (!options.ariaLabelledBySelector) {\n                                options.ariaLabelledBySelector = 'h1,h2,h3,h4,h5,h6';\n                            }\n\n                            if (!options.ariaDescribedBySelector) {\n                                options.ariaDescribedBySelector = 'article,section,p';\n                            }\n                        }\n\n                        if (options.ariaRole) {\n                            $dialog.attr('role', options.ariaRole);\n                        }\n\n                        privateMethods.applyAriaAttribute(\n                            $dialog, 'aria-labelledby', options.ariaLabelledById, options.ariaLabelledBySelector);\n\n                        privateMethods.applyAriaAttribute(\n                            $dialog, 'aria-describedby', options.ariaDescribedById, options.ariaDescribedBySelector);\n                    },\n\n                    applyAriaAttribute: function($dialog, attr, id, selector) {\n                        if (id) {\n                            $dialog.attr(attr, id);\n                            return;\n                        }\n\n                        if (selector) {\n                            var dialogId = $dialog.attr('id');\n\n                            var firstMatch = $dialog[0].querySelector(selector);\n\n                            if (!firstMatch) {\n                                return;\n                            }\n\n                            var generatedId = dialogId + '-' + attr;\n\n                            $el(firstMatch).attr('id', generatedId);\n\n                            $dialog.attr(attr, generatedId);\n\n                            return generatedId;\n                        }\n                    },\n\n                    detectUIRouter: function() {\n                        // Detect if ui-router module is installed\n                        // Returns ui-router version string if installed\n                        // Otherwise false\n\n                        if ($injector.has('$transitions')) {\n                            // Only 1.0.0+ ui.router allows us to inject $transitions\n                            return UI_ROUTER_VERSION_ONE_PLUS;\n                        }\n                        else if ($injector.has('$state')) {\n                            // The legacy ui.router allows us to inject $state\n                            return UI_ROUTER_VERSION_LEGACY;\n                        }\n                        return false;\n                    },\n\n                    getRouterLocationEventName: function() {\n                        if (privateMethods.detectUIRouter()) {\n                            return '$stateChangeStart';\n                        }\n                        return '$locationChangeStart';\n                    }\n                };\n\n                var publicMethods = {\n                    __PRIVATE__: privateMethods,\n\n                    /*\n                     * @param {Object} options:\n                     * - template {String} - id of ng-template, url for partial, plain string (if enabled)\n                     * - plain {Boolean} - enable plain string templates, default false\n                     * - scope {Object}\n                     * - controller {String}\n                     * - controllerAs {String}\n                     * - className {String} - dialog theme class\n                     * - appendClassName {String} - dialog theme class to be appended to defaults\n                     * - disableAnimation {Boolean} - set to true to disable animation\n                     * - showClose {Boolean} - show close button, default true\n                     * - closeByEscape {Boolean} - default true\n                     * - closeByDocument {Boolean} - default true\n                     * - preCloseCallback {String|Function} - user supplied function name/function called before closing dialog (if set)\n                     * - onOpenCallback {String|Function} - user supplied function name/function called after opening dialog (if set)\n                     * - bodyClassName {String} - class added to body at open dialog\n                     * @return {Object} dialog\n                     */\n                    open: function (opts) {\n                        var dialogID = null;\n                        opts = opts || {};\n                        if (openOnePerName && opts.name) {\n                            dialogID = opts.name.toLowerCase().replace(/\\s/g, '-') + '-dialog';\n                            if (this.isOpen(dialogID)) {\n                                return;\n                            }\n                        }\n                        var options = angular.copy(defaults);\n                        var localID = ++globalID;\n                        dialogID = dialogID || 'ngdialog' + localID;\n                        openIdStack.push(dialogID);\n\n                        // Merge opts.data with predefined via setDefaults\n                        if (typeof options.data !== 'undefined') {\n                            if (typeof opts.data === 'undefined') {\n                                opts.data = {};\n                            }\n                            opts.data = angular.merge(angular.copy(options.data), opts.data);\n                        }\n\n                        angular.extend(options, opts);\n\n                        var defer;\n                        defers[dialogID] = defer = $q.defer();\n\n                        var scope;\n                        scopes[dialogID] = scope = angular.isObject(options.scope) ? options.scope.$new() : $rootScope.$new();\n\n                        var $dialog, $dialogParent, $dialogContent;\n\n                        var resolve = angular.extend({}, options.resolve);\n\n                        angular.forEach(resolve, function (value, key) {\n                            resolve[key] = angular.isString(value) ? $injector.get(value) : $injector.invoke(value, null, null, key);\n                        });\n\n                        $q.all({\n                            template: loadTemplate(options.template || options.templateUrl),\n                            locals: $q.all(resolve)\n                        }).then(function (setup) {\n                            var template = setup.template,\n                                locals = setup.locals;\n\n                            if (options.showClose) {\n                                template += '<button aria-label=\"Dismiss\" class=\"ngdialog-close\"></button>';\n                            }\n\n                            var hasOverlayClass = options.overlay ? '' : ' ngdialog-no-overlay';\n                            $dialog = $el('<div id=\"' + dialogID + '\" class=\"ngdialog' + hasOverlayClass + '\"></div>');\n                            $dialog.html((options.overlay ?\n                                '<div class=\"ngdialog-overlay\"></div><div class=\"ngdialog-content\" role=\"document\">' + template + '</div>' :\n                                '<div class=\"ngdialog-content\" role=\"document\">' + template + '</div>'));\n\n                            $dialog.data('$ngDialogOptions', options);\n\n                            scope.ngDialogId = dialogID;\n\n                            if (options.data && angular.isString(options.data)) {\n                                var firstLetter = options.data.replace(/^\\s*/, '')[0];\n                                scope.ngDialogData = (firstLetter === '{' || firstLetter === '[') ? angular.fromJson(options.data) : new String(options.data);\n                                scope.ngDialogData.ngDialogId = dialogID;\n                            } else if (options.data && angular.isObject(options.data)) {\n                                scope.ngDialogData = options.data;\n                                scope.ngDialogData.ngDialogId = dialogID;\n                            }\n\n                            if (options.className) {\n                                $dialog.addClass(options.className);\n                            }\n\n                            if (options.appendClassName) {\n                                $dialog.addClass(options.appendClassName);\n                            }\n\n                            if (options.width) {\n                                $dialogContent = $dialog[0].querySelector('.ngdialog-content');\n                                if (angular.isString(options.width)) {\n                                    $dialogContent.style.width = options.width;\n                                } else {\n                                    $dialogContent.style.width = options.width + 'px';\n                                }\n                            }\n\n                            if (options.height) {\n                                $dialogContent = $dialog[0].querySelector('.ngdialog-content');\n                                if (angular.isString(options.height)) {\n                                    $dialogContent.style.height = options.height;\n                                } else {\n                                    $dialogContent.style.height = options.height + 'px';\n                                }\n                            }\n\n                            if (options.disableAnimation) {\n                                $dialog.addClass(disabledAnimationClass);\n                            }\n\n                            if (options.appendTo && angular.isString(options.appendTo)) {\n                                $dialogParent = angular.element(document.querySelector(options.appendTo));\n                            } else {\n                                $dialogParent = $elements.body;\n                            }\n\n                            privateMethods.applyAriaAttributes($dialog, options);\n\n                            [\n                                { name: '$ngDialogPreCloseCallback', value: options.preCloseCallback },\n                                { name: '$ngDialogOnOpenCallback', value: options.onOpenCallback }\n                            ].forEach(function (option) {\n                                if (option.value) {\n                                    var callback;\n\n                                    if (angular.isFunction(option.value)) {\n                                        callback = option.value;\n                                    } else if (angular.isString(option.value)) {\n                                        if (scope) {\n                                            if (angular.isFunction(scope[option.value])) {\n                                                callback = scope[option.value];\n                                            } else if (scope.$parent && angular.isFunction(scope.$parent[option.value])) {\n                                                callback = scope.$parent[option.value];\n                                            } else if ($rootScope && angular.isFunction($rootScope[option.value])) {\n                                                callback = $rootScope[option.value];\n                                            }\n                                        }\n                                    }\n\n                                    if (callback) {\n                                        $dialog.data(option.name, callback);\n                                    }\n                                }\n                            });\n\n                            scope.closeThisDialog = function (value) {\n                                privateMethods.closeDialog($dialog, value);\n                            };\n\n                            if (options.controller && (angular.isString(options.controller) || angular.isArray(options.controller) || angular.isFunction(options.controller))) {\n\n                                var label;\n\n                                if (options.controllerAs && angular.isString(options.controllerAs)) {\n                                    label = options.controllerAs;\n                                }\n\n                                var controllerInstance = $controller(options.controller, angular.extend(\n                                    locals,\n                                    {\n                                        $scope: scope,\n                                        $element: $dialog\n                                    }),\n                                    true,\n                                    label\n                                );\n\n                                if(options.bindToController) {\n                                    angular.extend(controllerInstance.instance, {ngDialogId: scope.ngDialogId, ngDialogData: scope.ngDialogData, closeThisDialog: scope.closeThisDialog, confirm: scope.confirm});\n                                }\n\n                                if(typeof controllerInstance === 'function'){\n                                    $dialog.data('$ngDialogControllerController', controllerInstance());\n                                } else {\n                                    $dialog.data('$ngDialogControllerController', controllerInstance);\n                                }\n                            }\n\n                            $timeout(function () {\n                                var $activeDialogs = document.querySelectorAll('.ngdialog');\n                                privateMethods.deactivateAll($activeDialogs);\n\n                                $compile($dialog)(scope);\n                                var widthDiffs = $window.innerWidth - $elements.body.prop('clientWidth');\n                                $elements.html.addClass(options.bodyClassName);\n                                $elements.body.addClass(options.bodyClassName);\n                                activeBodyClasses.push(options.bodyClassName);\n                                var scrollBarWidth = widthDiffs - ($window.innerWidth - $elements.body.prop('clientWidth'));\n                                if (scrollBarWidth > 0) {\n                                    privateMethods.setBodyPadding(scrollBarWidth);\n                                }\n                                $dialogParent.append($dialog);\n\n                                privateMethods.activate($dialog);\n\n                                if (options.trapFocus) {\n                                    privateMethods.autoFocus($dialog);\n                                }\n\n                                if (options.name) {\n                                    $rootScope.$broadcast('ngDialog.opened', {dialog: $dialog, name: options.name});\n                                } else {\n                                    $rootScope.$broadcast('ngDialog.opened', $dialog);\n                                }\n                                var onOpenCallback = $dialog.data('$ngDialogOnOpenCallback');\n                                if (onOpenCallback && angular.isFunction(onOpenCallback)) {\n                                    onOpenCallback.call($dialog);\n                                }\n\n                            });\n\n                            if (!keydownIsBound) {\n                                $elements.body.bind('keydown', privateMethods.onDocumentKeydown);\n                                keydownIsBound = true;\n                            }\n\n                            if (options.closeByNavigation) {\n                                closeByNavigationDialogStack.push($dialog);\n                            }\n\n                            if (options.preserveFocus) {\n                                $dialog.data('$ngDialogPreviousFocus', document.activeElement);\n                            }\n\n                            closeByDocumentHandler = function (event) {\n                                var isOverlay = options.closeByDocument ? $el(event.target).hasClass('ngdialog-overlay') : false;\n                                var isCloseBtn = $el(event.target).hasClass('ngdialog-close');\n\n                                if (isOverlay || isCloseBtn) {\n                                    publicMethods.close($dialog.attr('id'), isCloseBtn ? '$closeButton' : '$document');\n                                }\n                            };\n\n                            if (typeof $window.Hammer !== 'undefined') {\n                                var hammerTime = scope.hammerTime = $window.Hammer($dialog[0]);\n                                hammerTime.on('tap', closeByDocumentHandler);\n                            } else {\n                                $dialog.bind('click', closeByDocumentHandler);\n                            }\n\n                            dialogsCount += 1;\n\n                            return publicMethods;\n                        });\n\n                        return {\n                            id: dialogID,\n                            closePromise: defer.promise,\n                            close: function (value) {\n                                privateMethods.closeDialog($dialog, value);\n                            }\n                        };\n\n                        function loadTemplateUrl (tmpl, config) {\n                            var config = config || {};\n                            config.headers = config.headers || {};\n\n                            angular.extend(config.headers, {'Accept': 'text/html'});\n\n                            $rootScope.$broadcast('ngDialog.templateLoading', tmpl);\n                            return $http.get(tmpl, config).then(function(res) {\n                                $rootScope.$broadcast('ngDialog.templateLoaded', tmpl);\n                                return res.data || '';\n                            });\n                        }\n\n                        function loadTemplate (tmpl) {\n                            if (!tmpl) {\n                                return 'Empty template';\n                            }\n\n                            if (angular.isString(tmpl) && options.plain) {\n                                return tmpl;\n                            }\n\n                            if (typeof options.cache === 'boolean' && !options.cache) {\n                                return loadTemplateUrl(tmpl, {cache: false});\n                            }\n\n                            return loadTemplateUrl(tmpl, {cache: $templateCache});\n                        }\n                    },\n\n                    /*\n                     * @param {Object} options:\n                     * - template {String} - id of ng-template, url for partial, plain string (if enabled)\n                     * - plain {Boolean} - enable plain string templates, default false\n                     * - name {String}\n                     * - scope {Object}\n                     * - controller {String}\n                     * - controllerAs {String}\n                     * - className {String} - dialog theme class\n                     * - appendClassName {String} - dialog theme class to be appended to defaults\n                     * - showClose {Boolean} - show close button, default true\n                     * - closeByEscape {Boolean} - default false\n                     * - closeByDocument {Boolean} - default false\n                     * - preCloseCallback {String|Function} - user supplied function name/function called before closing dialog (if set); not called on confirm\n                     * - bodyClassName {String} - class added to body at open dialog\n                     *\n                     * @return {Object} dialog\n                     */\n                    openConfirm: function (opts) {\n                        var defer = $q.defer();\n                        var options = angular.copy(defaults);\n\n                        opts = opts || {};\n\n                        // Merge opts.data with predefined via setDefaults\n                        if (typeof options.data !== 'undefined') {\n                            if (typeof opts.data === 'undefined') {\n                                opts.data = {};\n                            }\n                            opts.data = angular.merge(angular.copy(options.data), opts.data);\n                        }\n\n                        angular.extend(options, opts);\n\n                        options.scope = angular.isObject(options.scope) ? options.scope.$new() : $rootScope.$new();\n                        options.scope.confirm = function (value) {\n                            defer.resolve(value);\n                            var $dialog = $el(document.getElementById(openResult.id));\n                            privateMethods.performCloseDialog($dialog, value);\n                        };\n\n                        var openResult = publicMethods.open(options);\n                        if (openResult) {\n                            openResult.closePromise.then(function (data) {\n                                if (data) {\n                                    return defer.reject(data.value);\n                                }\n                                return defer.reject();\n                            });\n                            return defer.promise;\n                        }\n                    },\n\n                    isOpen: function(id) {\n                        var $dialog = $el(document.getElementById(id));\n                        return $dialog.length > 0;\n                    },\n\n                    /*\n                     * @param {String} id\n                     * @return {Object} dialog\n                     */\n                    close: function (id, value) {\n                        var $dialog = $el(document.getElementById(id));\n\n                        if ($dialog.length) {\n                            privateMethods.closeDialog($dialog, value);\n                        } else {\n                            if (id === '$escape') {\n                                var topDialogId = openIdStack[openIdStack.length - 1];\n                                $dialog = $el(document.getElementById(topDialogId));\n                                if ($dialog.data('$ngDialogOptions').closeByEscape) {\n                                    privateMethods.closeDialog($dialog, '$escape');\n                                }\n                            } else {\n                                publicMethods.closeAll(value);\n                            }\n                        }\n\n                        return publicMethods;\n                    },\n\n                    closeAll: function (value) {\n                        var $all = document.querySelectorAll('.ngdialog');\n\n                        // Reverse order to ensure focus restoration works as expected\n                        for (var i = $all.length - 1; i >= 0; i--) {\n                            var dialog = $all[i];\n                            privateMethods.closeDialog($el(dialog), value);\n                        }\n                    },\n\n                    getOpenDialogs: function() {\n                        return openIdStack;\n                    },\n\n                    getDefaults: function () {\n                        return defaults;\n                    }\n                };\n\n                angular.forEach(\n                    ['html', 'body'],\n                    function(elementName) {\n                        $elements[elementName] = $document.find(elementName);\n                        if (forceElementsReload[elementName]) {\n                            var eventName = privateMethods.getRouterLocationEventName();\n                            $rootScope.$on(eventName, function () {\n                                $elements[elementName] = $document.find(elementName);\n                            });\n                        }\n                    }\n                );\n\n                // Listen to navigation events to close dialog\n                var uiRouterVersion = privateMethods.detectUIRouter();\n                if (uiRouterVersion === UI_ROUTER_VERSION_ONE_PLUS) {\n                    var $transitions = $injector.get('$transitions');\n                    $transitions.onStart({}, function (trans) {\n                        while (closeByNavigationDialogStack.length > 0) {\n                            var toCloseDialog = closeByNavigationDialogStack.pop();\n                            if (privateMethods.closeDialog(toCloseDialog) === false) {\n                                return false;\n                            }\n                        }\n                    });\n                }\n                else {\n                    var eventName = uiRouterVersion === UI_ROUTER_VERSION_LEGACY ? '$stateChangeStart' : '$locationChangeStart';\n                    $rootScope.$on(eventName, function ($event) {\n                        while (closeByNavigationDialogStack.length > 0) {\n                            var toCloseDialog = closeByNavigationDialogStack.pop();\n                            if (privateMethods.closeDialog(toCloseDialog) === false) {\n                                $event.preventDefault();\n                            }\n                        }\n                    });\n                }\n\n                return publicMethods;\n            }];\n    });\n\n    m.directive('ngDialog', ['ngDialog', function (ngDialog) {\n        return {\n            restrict: 'A',\n            scope: {\n                ngDialogScope: '='\n            },\n            link: function (scope, elem, attrs) {\n                elem.on('click', function (e) {\n                    e.preventDefault();\n\n                    var ngDialogScope = angular.isDefined(scope.ngDialogScope) ? scope.ngDialogScope : 'noScope';\n                    angular.isDefined(attrs.ngDialogClosePrevious) && ngDialog.close(attrs.ngDialogClosePrevious);\n\n                    var defaults = ngDialog.getDefaults();\n\n                    ngDialog.open({\n                        template: attrs.ngDialog,\n                        className: attrs.ngDialogClass || defaults.className,\n                        appendClassName: attrs.ngDialogAppendClass,\n                        controller: attrs.ngDialogController,\n                        controllerAs: attrs.ngDialogControllerAs,\n                        bindToController: attrs.ngDialogBindToController,\n                        disableAnimation: attrs.ngDialogDisableAnimation,\n                        scope: ngDialogScope,\n                        data: attrs.ngDialogData,\n                        showClose: attrs.ngDialogShowClose === 'false' ? false : (attrs.ngDialogShowClose === 'true' ? true : defaults.showClose),\n                        closeByDocument: attrs.ngDialogCloseByDocument === 'false' ? false : (attrs.ngDialogCloseByDocument === 'true' ? true : defaults.closeByDocument),\n                        closeByEscape: attrs.ngDialogCloseByEscape === 'false' ? false : (attrs.ngDialogCloseByEscape === 'true' ? true : defaults.closeByEscape),\n                        overlay: attrs.ngDialogOverlay === 'false' ? false : (attrs.ngDialogOverlay === 'true' ? true : defaults.overlay),\n                        preCloseCallback: attrs.ngDialogPreCloseCallback || defaults.preCloseCallback,\n                        onOpenCallback: attrs.ngDialogOnOpenCallback || defaults.onOpenCallback,\n                        bodyClassName: attrs.ngDialogBodyClass || defaults.bodyClassName\n                    });\n                });\n            }\n        };\n    }]);\n\n    return m;\n}));\n"],"sourceRoot":"assets/scripts/"}